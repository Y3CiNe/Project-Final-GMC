(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[11],{162:function(e,a,t){"use strict";var r=t(0),n=t.n(r),i=t(176);a.a=function(e){var a=e.width,t=void 0===a?"100px":a,r=e.height,c=void 0===r?"100px":r;return n.a.createElement(i.a,{animation:"border",role:"status",style:{width:t,height:c},className:"d-block m-auto"},n.a.createElement("span",{className:"sr-only"},"Loading..."))}},167:function(e,a,t){"use strict";var r=t(80),n=t(0),i=t.n(n),c=t(165),s=t(159),l=t(101),u=function(e){return i.a.createElement(s.a.Control,e)},o=function(e){return i.a.createElement(s.a.Control,Object.assign({as:"textarea",row:"5"},e))},d=function(e){return i.a.createElement(s.a.Control,Object.assign({as:"select"},e),e.options.map((function(e){return i.a.createElement("option",{key:e.title,value:e.value},e.title)})))},m=function(e){return i.a.createElement(s.a.Control,Object.assign({type:"date"},e))},p=function(e){return i.a.createElement(s.a.Check,e)},b=function(e){return i.a.createElement(s.a.Check,e)};a.a=function(e){var a=e.name,t=e.type,n=e.label,f=e.disabled,v=e.options,E=e.value,y=Object(c.e)(a),h=Object(r.a)(y,2)[1],g=function(e){switch(e){case"select":return d;case"textarea":return o;case"date":return m;case"checkbox":return p;case"radio":return b;default:return u}};return i.a.createElement(s.a.Group,{controlId:n},"checkbox"===t||"radio"===t?i.a.createElement(c.b,{name:a,type:t,label:n,value:E,as:g(t)}):i.a.createElement(i.a.Fragment,null,i.a.createElement(s.a.Label,null,n),i.a.createElement(c.b,{name:a,type:t,placeholder:"Enter ".concat(n),isInvalid:h.touched&&h.error,disabled:f,options:v,as:g(t)}),i.a.createElement(c.a,{name:a,render:function(e){return i.a.createElement(l.a.Feedback,{type:"invalid"},e)}})))}},169:function(e,a,t){"use strict";t.d(a,"c",(function(){return n})),t.d(a,"g",(function(){return i})),t.d(a,"e",(function(){return c})),t.d(a,"b",(function(){return s})),t.d(a,"h",(function(){return l})),t.d(a,"d",(function(){return u})),t.d(a,"f",(function(){return o})),t.d(a,"a",(function(){return d}));var r=t(185),n=r.b({email:r.c().email("Invalid email format").required("Email is required"),password:r.c().required("Password is required").min(6,"Required at least 6 characters")}),i=r.b({name:r.c().required("Name is required"),email:r.c().email("Invalid email format").required("Email is required"),password:r.c().required("Password is required").min(6,"Required at least 6 characters"),confirmPassword:r.c().required("Confirm password is required").min(6,"Required at least 6 characters")}),c=r.b({name:r.c().required("Name is required"),password:r.c().min(6,"Required at least 6 characters"),confirmPassword:r.c().min(6,"Required at least 6 characters")}),s=r.b({redirectUrl:r.c().required("Redirect url is required")}),l=r.b({name:r.c().required("Name is required"),email:r.c().required("Email is required").email("Invalid email format")}),u=r.b({name:r.c().required("Name is required"),price:r.a().typeError("Must be a number").required("Price is required"),brand:r.c().required("Brand is required"),category:r.c().required("Category is required"),countInStock:r.a().typeError("Must be a number").required("CountInStock is required"),description:r.c().required("Description is required")}),o=r.b({rating:r.c().required("Rating is required")}),d=r.b({address:r.c().required("Address is required"),city:r.c().required("City is required"),postalCode:r.a(),country:r.c().required("Country is required")})},174:function(e,a,t){"use strict";var r=t(0),n=t.n(r),i=t(155),c=t(114),s=t(71);a.a=function(e){var a=e.children;return n.a.createElement(i.a,null,n.a.createElement(c.a,{className:"justify-content-md-center"},n.a.createElement(s.a,{xs:12,md:6},a)))}},176:function(e,a,t){"use strict";var r=t(2),n=t(3),i=t(5),c=t.n(i),s=t(0),l=t.n(s),u=t(6),o=l.a.forwardRef((function(e,a){var t=e.bsPrefix,i=e.variant,s=e.animation,o=e.size,d=e.children,m=e.as,p=void 0===m?"div":m,b=e.className,f=Object(n.a)(e,["bsPrefix","variant","animation","size","children","as","className"]),v=(t=Object(u.a)(t,"spinner"))+"-"+s;return l.a.createElement(p,Object(r.a)({ref:a},f,{className:c()(b,v,o&&v+"-"+o,i&&"text-"+i)}),d)}));o.displayName="Spinner",a.a=o},204:function(e,a,t){"use strict";t.d(a,"a",(function(){return u})),t.d(a,"b",(function(){return o}));var r=t(8),n=t.n(r),i=t(22),c=t(15),s=t(26),l=t(20),u=function(e,a){return function(){var t=Object(i.a)(n.a.mark((function t(r){var i,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:l.i}),t.prev=1,t.next=4,c.a.get("/api/products/".concat(e),{cancelToken:a});case 4:i=t.sent,s=i.data,r({type:l.j,payload:s}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),c.a.isCancel(t.t0)?r({type:l.g}):r({type:l.h,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},o=function(e,a){return function(){var t=Object(i.a)(n.a.mark((function t(r){var i,u,o,d,m,p,b,f,v,E,y,h;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:l.m}),t.prev=1,i=a.name,u=a.price,o=a.description,d=a.brand,m=a.category,p=a.countInStock,b=a.releaseDate,f=a.image,v=a.isPreOrder,(E=new FormData).append("name",i),E.append("price",u),E.append("description",o),E.append("brand",d),E.append("category",m),E.append("countInStock",p),E.append("releaseDate",b),E.append("isPreOrder",v),f&&E.append("productImg",f),t.next=15,c.a.put("/api/products/".concat(e),E);case 15:y=t.sent,h=y.data,s.a.push("/admin/productList"),r({type:l.n,payload:h}),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(1),r({type:l.k,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.response});case 24:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(e){return t.apply(this,arguments)}}()}},223:function(e,a,t){"use strict";var r=t(80),n=t(0),i=t.n(n),c=t(159),s=t(157),l=t(165);a.a=function(e){var a=e.label,t=e.name,u=e.src,o=Object(l.e)(t),d=Object(r.a)(o,3)[2],m=Object(n.useRef)();return i.a.createElement(c.a.Group,{controlId:t},i.a.createElement(c.a.Label,null,i.a.createElement("div",null,a),i.a.createElement(s.a,{ref:m,src:u,rounded:!0,fluid:!0})),i.a.createElement(c.a.File,{id:"image-file",label:"Choose file",custom:!0,onChange:function(e){var a=e.target.files[0],t=new FileReader;d.setValue(a),a&&(t.onload=function(e){m.current.src=e.target.result},t.readAsDataURL(a))}}))}},274:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t(80),i=t(0),c=t.n(i),s=t(102),l=t(17),u=t(11),o=t(165),d=t(15),m=t(169),p=t(204),b=t(174),f=t(162),v=t(58),E=t(167),y=t(223),h={name:"",price:"",brand:"",category:"",countInStock:"",description:"",releaseDate:(new Date).toISOString().split("T")[0]},g=[{title:"",value:""},{title:"Sony",value:"sony"},{title:"Nintendo",value:"nintendo"},{title:"Others",value:"others"}],q=[{title:"",value:""},{title:"PS4 console",value:"ps4 console"},{title:"PS5 console",value:"ps5 console"},{title:"Switch console",value:"switch console"},{title:"PS4 games",value:"ps4 games"},{title:"PS5 games",value:"ps5 games"},{title:"Switch games",value:"switch games"},{title:"Others",value:"others"}];a.default=function(e){var a=e.match,t=Object(i.useState)(null),O=Object(n.a)(t,2),k=O[0],w=O[1],j=Object(l.b)(),S=a.params.id,x=Object(l.c)((function(e){return e.product})),C=x.loading,I=x.data,P=x.error;Object(i.useEffect)((function(){var e=d.a.CancelToken.source();return I&&S===I._id?w(Object(r.a)(Object(r.a)({},I),{},{releaseDate:new Date(I.releaseDate).toISOString().split("T")[0]})):j(Object(p.a)(S,e.token)),function(){e.cancel()}}),[I,S,j,w]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.Link,{to:"/admin/productList",className:"btn btn-light my-3"},"Go back"),c.a.createElement(b.a,null,C?c.a.createElement(f.a,null):c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Edit Product"),P&&c.a.createElement(v.a,{variant:"danger"},P),I&&c.a.createElement(o.d,{initialValues:k||h,validationSchema:m.d,onSubmit:function(e){var a=e.releaseDate;j(Object(p.b)(S,Object(r.a)(Object(r.a)({},e),{},{releaseDate:new Date(a)})))},enableReinitialize:!0},(function(e){var a=e.isSubmitting;return c.a.createElement(o.c,null,c.a.createElement(E.a,{label:"Name",name:"name",type:"text"}),c.a.createElement(E.a,{label:"Price",name:"price",type:"text"}),c.a.createElement(y.a,{label:"Image",name:"image",src:"/api/products/".concat(S,"/image")}),c.a.createElement(E.a,{label:"Brand",name:"brand",type:"select",options:g}),c.a.createElement(E.a,{label:"Category",name:"category",type:"select",options:q}),c.a.createElement(E.a,{label:"Count in stock",name:"countInStock",type:"text"}),c.a.createElement(E.a,{label:"Description",name:"description",type:"textarea"}),c.a.createElement(E.a,{label:"Release date",name:"releaseDate",type:"date"}),c.a.createElement(E.a,{label:"Is Pre-order",name:"isPreOrder",type:"checkbox"}),c.a.createElement(s.a,{type:"submit",variant:"primary",className:"d-block ml-auto",disabled:a},"Update"))})))))}}}]);
//# sourceMappingURL=ProductEdit.d59a1477.chunk.js.map